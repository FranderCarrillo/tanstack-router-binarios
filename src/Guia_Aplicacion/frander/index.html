<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/src/Guia_Aplicacion/frander/styles.css">
    <title>Document</title>
</head>
<body>
    
    <div class="container-organization-paths">


        <h1 class="text-organization-paths">Ejemplo de uso de Tanstack Router Navegation</h1>
        
        <p class="text-organization-paths">
            En este ejemplo, se muestra cómo crear una aplicación de React utilizando TanStack Router para el enrutamiento y la navegación. La estructura de carpetas y archivos es la siguiente:
        </p>

        <h2>Estructura</h2>

        <p class="text-organization-paths">
            Dentro de la carpeta <strong>src</strong>, deberás de crear la carpeta <strong>routes</strong>, posteriormente, dentro de la carpeta <strong>routes</strong>, deberas de crear el archivo
            <strong>__root.tsx.</strong>
        </p>

        <p class="text-organization-paths">
          El archivo <strong>__root.tsx</strong> contiene el componente raíz de la aplicación. Este componente define la estructura base de navegación y renderiza el contenido de las rutas hijas mediante <Outlet />, utilizando TanStack Router para el manejo del enrutamiento.
        </p>

        <div class="file-label">
            <h3>src/routes/__root.tsx</h3>
        </div>
        
        <pre class="code-block">
import { createRootRoute, Link, Outlet } from '@tanstack/react-router'
import { TanStackRouterDevtools } from '@tanstack/react-router-devtools'          

export const Route = createRootRoute({
    component: () =&gt; (
      &lt;&gt;
        &lt;div className="p-2 flex gap-2"&gt;
          &lt;Link to="/" className="[&amp;.active]:font-bold"&gt;
            Home
          &lt;/Link&gt;{' '}
          &lt;Link to="/about" className="[&amp;.active]:font-bold"&gt;
            About
           &lt;/Link&gt;{' '}
          &lt;Link to="/contacUs" className="[&amp;.active]:font-bold"&gt;
            ContacUs
          &lt;/Link&gt;
        &lt;/div&gt;
        &lt;hr /&gt;
       &lt;Outlet /&gt;
        &lt;TanStackRouterDevtools /&gt;
      &lt;/&gt;
    ),
})
       </pre>
          
       <p class="text-organization-paths">
        Luego de crear el archivo <strong>__root.tsx</strong>, deberás crear el archivo <strong>index.tsx</strong> y los demás archivos que necesites dentro de la carpeta <strong>routes</strong>. El archivo <strong>index.tsx</strong> contendrá los componentes que se renderizarán en la ruta raíz de la aplicación.
      </p>

      <div class="file-label">
        <h3>src/routes/index.tsx</h3>
      </div>
      
      <pre class="code-block">
import { createFileRoute } from '@tanstack/react-router'
        
export const Route = createFileRoute('/')({
  component: Index,
})
        
function Index() {
  return (
    &lt;div className="p-2"&gt;
      &lt;h3&gt;Welcome Home!&lt;/h3&gt;
    &lt;/div&gt;
  )
}
        </pre>

        <p class="text-organization-paths">
          El archivo <strong>index.tsx</strong> define la ruta raíz (<code>'/'</code>) de la aplicación. Este archivo contiene un componente que renderiza un mensaje de bienvenida cuando el usuario accede a la página principal.
        </p>
        
        <div class="file-label">
          <h3>src/routes/about.tsx</h3>
        </div>

        <pre class="code-block">
import { createFileRoute } from '@tanstack/react-router'
          
export const Route = createFileRoute('/about')({
  component: About,
})
          
function About() {
  return &lt;div className="p-2"&gt;Hello from About!&lt;/div&gt;
}
          </pre>
          

          <h1 class="text-organization-paths">Ejemplo de uso de Tanstack Router Protected Routes</h1>

          <h2>Estructura</h2>

          <p class="text-organization-paths">
            En este ejemplo, se muestra como utilizar TanStack Router para el enrutamiento y la navegación protegida. La estructura de carpetas y archivos es la siguiente.
          </p>

          <div class="file-label">
            <h3>src/hooks/useAuth.tsx</h3>
          </div>

          <pre class="code-block">
export const useAuth = () => {
  const signIn = () => {
    localStorage.setItem("isAuthenticated", "true");
  };
            
  const signOut = () => {
    localStorage.removeItem("isAuthenticated");
  };
            
  const isLogged = () => localStorage.getItem("isAuthenticated") === "true";
            
  return { signIn, signOut, isLogged };
};
            
export type AuthContext = ReturnType&lt;typeof useAuth&gt;;
          </pre>

          <p class="text-organization-paths">
            El archivo <strong>useAuth.tsx</strong> contiene un hook personalizado que maneja la autenticación del usuario. proporciona funciones para iniciar sesión, cerrar sesión y verificar si el usuario está autenticado.
          </p>
            
          <div class="file-label">
            <h3>src/utils/Auth.ts</h3>
          </div>                              

          
        
          <pre class="code-block">
export function isAuthenticated() {
  return localStorage.getItem("isAuthenticated") === "true";
}
            
export async function signIn() {
  localStorage.setItem("isAuthenticated", "true");
}
            
export async function signOut() {
  localStorage.removeItem("isAuthenticated");
}
          </pre>

          <p class="text-organization-paths">
            El archivo <strong>auth.tsx</strong> contiene funciones independientes que permiten iniciar sesión, cerrar sesión y comprobar si el usuario está autenticado utilizando <strong>localStorage</strong>.
          </p>
            

          <h1 class="text-organization-paths">Reutilizacion Ejemplo de uso de Tanstack Router Navegation</h1>

          <p class="text-organization-paths">
            Se puede utilizar el ejemplo anterior de navegación para este ejemplo, tomando en cuenta las carpetas y arthivos que se han creado.
          </p>

          <div class="file-label">
            <h3>src/routes/index.tsx</h3>
          </div>

          <pre class="code-block">
import { createFileRoute } from '@tanstack/react-router'
                    
export const Route = createFileRoute('/')({
  component: Index,
})
                    
function Index() {
  return (
    &lt;div className="p-2"&gt;
      &lt;h3&gt;Welcome Home!&lt;/h3&gt;
     &lt;/div&gt;
  )
}
          </pre>
          
          </p>

          <div class="file-label">
            <h3>src/routes/about.tsx</h3>
          </div>
          

        <pre class="code-block">
import { createFileRoute } from '@tanstack/react-router'
          
export const Route = createFileRoute('/about')({
  component: About,
})
          
function About() {
  return &lt;div className="p-2"&gt;Hello from About!&lt;/div&gt;
}
          </pre>


          <p class="text-organization-paths">
            Sin embargo, en el archivo <strong>__root.tsx</strong> se debe de agregar la función <strong>isAuthenticated</strong> para verificar si el usuario está autenticado o no. En caso de que no lo esté, se redirigirá a la página de inicio de sesión.
          </p>

          <div class="file-label">
            <h3>src/routes/__root.tsx</h3>
        </div>

          <pre class="code-block">
import { createRootRoute, createRootRouteWithContext, Link, Outlet } from '@tanstack/react-router';
import { TanStackRouterDevtools } from '@tanstack/react-router-devtools';
import { AuthContext } from '../hooks/useAuth';
            
type RouterContext = {
  authentication: AuthContext;
};
            
export const Route = createRootRouteWithContext&lt;RouterContext&gt;()({
  component: () => (
    &lt;&gt;
      &lt;div className="p-2 flex gap-2"&gt;
         &lt;Link to="/" className="[&amp;.active]:font-bold"&gt;
          Home
        &lt;/Link&gt;{' '}
        &lt;Link to="/about" className="[&amp;.active]:font-bold"&gt;
          About
        &lt;/Link&gt;{' '}
        &lt;Link to="/contacUs" className="[&amp;.active]:font-bold"&gt;
          ContacUs
        &lt;/Link&gt;{' '}
        &lt;Link to="/login" className="[&amp;.active]:font-bold"&gt;
          Login
        &lt;/Link&gt;
      &lt;/div&gt;
      &lt;hr /&gt;
      &lt;Outlet /&gt;
      &lt;TanStackRouterDevtools /&gt;
    &lt;/&gt;
  ),
})
          </pre>
            
          <p class="text-organization-paths"> 
            Además se deben de agregar los archivos <strong>profile.tsx</strong> donde solo se puede acceder si el usuario está autenticado, de lo contrario se redirigirá a la página de inicio de sesión, <strong>login.tsx</strong>.
          </p>

          

    </div>


</body>
</html>